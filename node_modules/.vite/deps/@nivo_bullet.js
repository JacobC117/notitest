import {
  W,
  W2
} from "./chunk-GTOSSJJG.js";
import {
  $r,
  Dr,
  It,
  St,
  Ur,
  Xe,
  _t,
  animated,
  gn,
  k,
  to,
  useSpring,
  useTransition,
  w,
  wt,
  zt
} from "./chunk-UXMKZ6XT.js";
import {
  require_jsx_runtime
} from "./chunk-ODHXBHLJ.js";
import "./chunk-IURPBYAF.js";
import {
  __toESM,
  require_react
} from "./chunk-QI53LHDY.js";

// node_modules/@nivo/bullet/dist/nivo-bullet.es.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var y = __toESM(require_react());
var import_react = __toESM(require_react());
function w2() {
  return w2 = Object.assign ? Object.assign.bind() : function(e) {
    for (var r = 1; r < arguments.length; r++) {
      var o = arguments[r];
      for (var t in o)
        Object.prototype.hasOwnProperty.call(o, t) && (e[t] = o[t]);
    }
    return e;
  }, w2.apply(this, arguments);
}
var b = function(e) {
  var r = e.animatedProps, o = r.x, t = r.y, n = r.width, i = r.height, a = r.color, l = e.borderColor, u = e.borderWidth, h = e.data, m = e.onMouseEnter, f2 = e.onMouseMove, v2 = e.onMouseLeave, g = e.onClick;
  return (0, import_jsx_runtime.jsx)(animated.rect, { x: o, y: t, width: to(n, function(e2) {
    return Math.max(e2, 0);
  }), height: to(i, function(e2) {
    return Math.max(e2, 0);
  }), fill: a, strokeWidth: u, stroke: l, onMouseMove: function(e2) {
    return f2(h, e2);
  }, onMouseEnter: function(e2) {
    return m(h, e2);
  }, onMouseLeave: function(e2) {
    return v2(h, e2);
  }, onClick: function(e2) {
    return g(h, e2);
  } });
};
var B = { layout: "horizontal", reverse: false, spacing: 30, minValue: 0, maxValue: "auto", axisPosition: "after", titlePosition: "before", titleAlign: "middle", titleRotation: 0, titleOffsetX: 0, titleOffsetY: 0, rangeComponent: b, rangeColors: "seq:cool", measureComponent: b, measureColors: "seq:red_purple", markers: [], markerComponent: function(e) {
  var r = e.animatedProps, o = r.color, t = r.transform, n = r.x, i = r.y1, a = r.y2, l = e.data, u = e.onMouseEnter, c = e.onMouseMove, h = e.onMouseLeave, m = e.onClick;
  return (0, import_jsx_runtime.jsx)(animated.line, { transform: t, x1: n, x2: n, y1: i, y2: a, fill: "none", stroke: o, strokeWidth: "5", onMouseMove: function(e2) {
    return c(l, e2);
  }, onMouseEnter: function(e2) {
    return u(l, e2);
  }, onMouseLeave: function(e2) {
    return h(l, e2);
  }, onClick: function(e2) {
    return m(l, e2);
  } });
}, markerColors: "seq:red_purple", rangeBorderWidth: 0, rangeBorderColor: { from: "color" }, measureSize: 0.4, measureBorderWidth: 0, measureBorderColor: { from: "color" }, markerSize: 0.6, isInteractive: true, tooltip: function(e) {
  var r = e.color, o = e.v0, t = e.v1;
  return (0, import_jsx_runtime.jsx)(w, { id: t ? (0, import_jsx_runtime.jsxs)("span", { children: [(0, import_jsx_runtime.jsx)("strong", { children: o }), " to ", (0, import_jsx_runtime.jsx)("strong", { children: t })] }) : (0, import_jsx_runtime.jsx)("strong", { children: o }), enableChip: true, color: r });
}, animate: Dr.animate, motionConfig: Dr.config, margin: _t, role: "img" };
var P = function(e, r, o, t, n) {
  void 0 === n && (n = false);
  var i = r.domain(), a = i[0], l = i[1];
  return [].concat(e, ["measures" === t || e.includes(l) ? 0 : l]).filter(function(e2) {
    return 0 !== e2;
  }).sort(function(e2, r2) {
    return e2 - r2;
  }).reduce(function(e2, r2, t2) {
    var i2, l2 = e2.slice(-1)[0], u = null != (i2 = null == l2 ? void 0 : l2.v1) ? i2 : a, s = true === n ? u + (r2 - u) / 2 : r2;
    return [].concat(e2, [{ index: t2, v0: u, v1: r2, color: o("sequential" === o.type ? s : t2) }]);
  }, []);
};
var W3 = ["position"];
var O = function(e) {
  var r = e.scale, t = e.layout, n = e.reverse, i = e.markers, a = e.height, l = e.markerSize, u = e.component, s = e.onMouseEnter, c = e.onMouseLeave, m = e.onClick, f2 = (0, import_react.useMemo)(function() {
    return function(e2) {
      var r2 = e2.layout, o = e2.reverse, t2 = e2.scale, n2 = e2.height, i2 = e2.markerSize;
      return "horizontal" === r2 ? function(e3) {
        return { x: t2(e3.value), y: n2 / 2, size: i2, rotation: true === o ? 180 : 0 };
      } : function(e3) {
        return { x: n2 / 2, y: t2(e3.value), size: i2, rotation: true === o ? 270 : 90 };
      };
    }({ layout: t, reverse: n, scale: r, height: a, markerSize: l });
  }, [t, n, r, a, l]), g = Ur(), p = g.animate, C2 = g.config, k2 = useTransition(i.map(function(e2) {
    return w2({}, e2, { position: f2(e2) });
  }), { keys: function(e2) {
    return "" + e2.index;
  }, enter: function(e2) {
    var r2 = e2.color, o = e2.position;
    return { color: r2, transform: "rotate(" + o.rotation + ", " + o.x + ", " + o.y + ")", x: o.x, y1: o.y - o.size / 2, y2: o.y + o.size / 2 };
  }, update: function(e2) {
    var r2 = e2.color, o = e2.position;
    return { color: r2, transform: "rotate(" + o.rotation + ", " + o.x + ", " + o.y + ")", x: o.x, y1: o.y - o.size / 2, y2: o.y + o.size / 2 };
  }, config: C2, immediate: !p });
  return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: k2(function(e2, r2) {
    var o = r2.position, t2 = function(e3, r3) {
      if (null == e3)
        return {};
      var o2, t3, n2 = {}, i2 = Object.keys(e3);
      for (t3 = 0; t3 < i2.length; t3++)
        o2 = i2[t3], r3.indexOf(o2) >= 0 || (n2[o2] = e3[o2]);
      return n2;
    }(r2, W3);
    return y.createElement(u, w2({ key: t2.index }, t2, o, { animatedProps: e2, data: t2, onMouseEnter: s, onMouseMove: s, onMouseLeave: c, onClick: m }));
  }) });
};
var E = function(e) {
  var r = e.animatedProps, n = e.data, i = e.layout, a = e.y, l = e.borderColor, u = e.borderWidth, m = e.component, f2 = e.reverse, v2 = e.scale, g = e.height, p = e.onMouseEnter, y2 = e.onMouseLeave, k2 = e.onClick, z = (0, import_react.useMemo)(function() {
    return function(e2) {
      var r2 = e2.data, o = function(e3) {
        var r3 = e3.layout, o2 = e3.reverse, t = e3.scale, n2 = e3.height;
        return "horizontal" === r3 ? true === o2 ? function(e4) {
          var r4 = t(e4.v1);
          return { x: r4, y: 0, width: t(e4.v0) - r4, height: n2 };
        } : function(e4) {
          var r4 = t(e4.v0);
          return { x: r4, y: 0, width: t(e4.v1) - r4, height: n2 };
        } : true === o2 ? function(e4) {
          var r4 = t(e4.v0), o3 = t(e4.v1) - r4;
          return { x: 0, y: r4, width: n2, height: o3 };
        } : function(e4) {
          var r4 = t(e4.v1), o3 = t(e4.v0) - r4;
          return { x: 0, y: r4, width: n2, height: o3 };
        };
      }({ layout: e2.layout, reverse: e2.reverse, scale: e2.scale, height: e2.height });
      return r2.map(function(e3) {
        return w2({ data: e3 }, o(e3));
      });
    }({ data: n, layout: i, reverse: f2, scale: v2, height: g });
  }, [n, i, f2, v2, g]), b2 = zt(), B2 = Xe(l, b2), P2 = function(e2) {
    return "translate(" + ("horizontal" === i ? 0 : e2) + "," + ("horizontal" === i ? e2 : 0) + ")";
  }, W4 = r ? to(r.measuresY, P2) : P2(a), O2 = Ur(), E2 = O2.animate, L2 = O2.config, S2 = useTransition(z, { keys: function(e2) {
    return "" + e2.data.index;
  }, enter: function(e2) {
    return { x: e2.x, y: e2.y, width: e2.width, height: e2.height, color: e2.data.color };
  }, update: function(e2) {
    return { x: e2.x, y: e2.y, width: e2.width, height: e2.height, color: e2.data.color };
  }, config: L2, immediate: !E2 });
  return (0, import_jsx_runtime.jsx)(animated.g, { transform: W4, children: S2(function(e2, r2) {
    return (0, import_react.createElement)(m, { key: r2.data.index, index: r2.data.index, animatedProps: e2, data: r2.data, x: e2.x.get(), y: e2.y.get(), borderColor: B2(r2.data), borderWidth: u, width: to(e2.width, function(e3) {
      return Math.max(e3, 0);
    }).get(), height: to(e2.height, function(e3) {
      return Math.max(e3, 0);
    }).get(), color: e2.color.get(), onMouseEnter: p, onMouseMove: p, onMouseLeave: y2, onClick: k2 });
  }) });
};
var L = function(e) {
  var r, i = e.id, a = e.scale, l = e.layout, u = e.reverse, c = e.axisPosition, h = e.x, v2 = e.y, g = e.width, y2 = e.height, C2 = e.title, M = void 0 === C2 ? i : C2, z = e.titlePosition, b2 = e.titleAlign, B2 = e.titleOffsetX, W4 = e.titleOffsetY, L2 = e.titleRotation, S2 = e.tooltip, V2 = e.rangeBorderColor, R = e.rangeBorderWidth, Y = e.rangeComponent, j = e.rangeColors, q = e.ranges, A = e.measureBorderColor, H = e.measureBorderWidth, X = e.measureComponent, I = e.measureHeight, T = e.measureColors, _ = e.measures, F = e.markerComponent, D = e.markerColors, G = e.markerHeight, J = e.markers, K = void 0 === J ? [] : J, N = e.onRangeClick, Q = e.onMeasureClick, U = e.onMarkerClick, Z = zt(), $ = k(), ee = $.showTooltipFromEvent, re = $.hideTooltip, oe = (0, import_react.useMemo)(function() {
    var e2 = $r(j, a, true);
    return P(q, a, e2, "range");
  }, [j, q, a]), te = (0, import_react.useMemo)(function() {
    var e2 = $r(T, a);
    return P(_, a, e2, "measures");
  }, [T, _, a]), ne = (0, import_react.useMemo)(function() {
    var e2 = $r(D, a);
    return K.map(function(r2, o) {
      return { value: r2, index: o, color: e2("sequential" === e2.type ? r2 : o) };
    });
  }, [D, K, a]), ie = S2, ae = (0, import_jsx_runtime.jsx)(E, { data: oe, scale: a, layout: l, reverse: u, x: 0, y: 0, width: g, height: y2, component: Y, borderColor: V2, borderWidth: R, onMouseEnter: function(e2, r2) {
    ee((0, import_jsx_runtime.jsx)(ie, { color: e2.color, v0: e2.v0, v1: e2.v1 }), r2);
  }, onMouseLeave: re, onClick: function(e2, r2) {
    null == N || N(w2({ id: i }, e2), r2);
  } }), le = (0, import_jsx_runtime.jsx)(O, { markers: ne, scale: a, layout: l, reverse: u, height: y2, markerSize: G, component: F, onMouseEnter: function(e2, r2) {
    ee((0, import_jsx_runtime.jsx)(ie, { color: e2.color, v0: e2.value }), r2);
  }, onMouseLeave: re, onClick: function(e2, r2) {
    null == U || U(w2({ id: i }, e2), r2);
  } }), ue = (0, import_jsx_runtime.jsx)("g", { transform: "translate(" + ("vertical" === l && "after" === c ? y2 : 0) + "," + ("horizontal" === l && "after" === c ? y2 : 0) + ")", children: (0, import_jsx_runtime.jsx)(W2, { axis: "horizontal" === l ? "x" : "y", length: "horizontal" === l ? g : y2, scale: a, ticksPosition: c }) }), se = (0, import_jsx_runtime.jsx)("g", { transform: "translate(" + ("horizontal" === l ? "before" === z ? B2 : g + B2 : y2 / 2 + B2) + "," + ("horizontal" === l ? y2 / 2 + W4 : "before" === z ? W4 : g + W4) + ") rotate(" + L2 + ")", children: "string" == typeof M ? (0, import_jsx_runtime.jsx)("text", { style: w2({}, null == Z || null == (r = Z.labels) ? void 0 : r.text, { dominantBaseline: "central", textAnchor: b2 }), children: M }) : M }), ce = Ur(), he = ce.animate, me = ce.config, de = useSpring({ measuresY: (y2 - I) / 2, transform: "translate(" + h + "," + v2 + ")", config: me, immediate: !he });
  return (0, import_jsx_runtime.jsxs)(animated.g, { transform: de.transform, children: [ae, (0, import_jsx_runtime.jsx)(E, { animatedProps: de, data: te, scale: a, layout: l, reverse: u, x: 0, y: 0, width: g, height: I, component: X, borderColor: A, borderWidth: H, onMouseEnter: function(e2, r2) {
    ee((0, import_jsx_runtime.jsx)(ie, { color: e2.color, v0: e2.v1 }), r2);
  }, onMouseLeave: re, onClick: function(e2, r2) {
    null == Q || Q(w2({ id: i }, e2), r2);
  } }), ue, le, se] });
};
var S = function(e) {
  var r = w2({}, B, e), o = r.data, t = r.layout, n = r.spacing, u = r.measureSize, s = r.markerSize, c = r.reverse, h = r.axisPosition, m = r.minValue, f2 = r.maxValue, v2 = r.margin, g = r.width, p = r.height, y2 = r.titlePosition, C2 = r.titleAlign, k2 = r.titleOffsetX, M = r.titleOffsetY, b2 = r.titleRotation, P2 = r.rangeBorderColor, W4 = r.rangeBorderWidth, O2 = r.rangeComponent, E2 = r.rangeColors, S2 = r.measureBorderColor, V2 = r.measureBorderWidth, R = r.measureComponent, Y = r.measureColors, j = r.markerComponent, q = r.markerColors, A = r.theme, H = r.tooltip, X = void 0 === H ? B.tooltip : H, I = r.animate, T = r.motionConfig, _ = r.isInteractive, F = r.onRangeClick, D = r.onMeasureClick, G = r.onMarkerClick, J = r.role, K = wt(g, p, v2), N = K.margin, Q = K.innerWidth, U = K.innerHeight, Z = "horizontal" === t ? (U - n * (o.length - 1)) / o.length : (Q - n * (o.length - 1)) / o.length, $ = Z * u, ee = Z * s, re = function(e2, r2) {
    var o2 = r2.layout, t2 = r2.maxValue, n2 = r2.minValue, i = r2.reverse, a = r2.height, l = r2.width;
    return (0, import_react.useMemo)(function() {
      return e2.map(function(e3) {
        var r3, u2 = [].concat(e3.ranges, e3.measures, null != (r3 = e3.markers) ? r3 : []), s2 = null != t2 ? t2 : Math.max.apply(Math, u2), c2 = null != n2 ? n2 : Math.min.apply(Math, u2);
        return w2({}, e3, { scale: W({ clamp: true, min: c2, max: s2, type: "linear" }, { all: u2, max: s2, min: c2 }, "horizontal" === o2 ? l : a, "horizontal" === o2 ? i ? "y" : "x" : i ? "x" : "y") });
      });
    }, [e2, a, o2, t2, n2, i, l]);
  }(o, { height: U, layout: t, maxValue: "auto" === f2 ? void 0 : f2, minValue: "auto" === m ? void 0 : m, reverse: c, width: Q });
  return (0, import_jsx_runtime.jsx)(St, { isInteractive: _, theme: A, animate: I, motionConfig: T, children: (0, import_jsx_runtime.jsx)(gn, { width: g, height: p, margin: N, role: J, children: re.map(function(e2, r2) {
    return (0, import_jsx_runtime.jsx)(L, w2({}, e2, { layout: t, reverse: c, x: "vertical" === t ? Z * r2 + n * r2 : 0, y: "horizontal" === t ? Z * r2 + n * r2 : 0, width: Q, height: Z, titlePosition: y2, titleAlign: C2, titleOffsetX: k2, titleOffsetY: M, titleRotation: b2, measureHeight: $, markerHeight: ee, rangeBorderColor: P2, rangeBorderWidth: W4, rangeComponent: O2, rangeColors: E2, measureBorderColor: S2, measureBorderWidth: V2, measureComponent: R, measureColors: Y, markerComponent: j, markerColors: q, axisPosition: h, onRangeClick: F, onMeasureClick: D, onMarkerClick: G, tooltip: X }), e2.id);
  }) }) });
};
var V = function(e) {
  return (0, import_jsx_runtime.jsx)(It, { children: function(r) {
    var o = r.width, t = r.height;
    return (0, import_jsx_runtime.jsx)(S, w2({ width: o, height: t }, e));
  } });
};
export {
  S as Bullet,
  L as BulletItem,
  V as ResponsiveBullet,
  B as defaultProps
};
//# sourceMappingURL=@nivo_bullet.js.map
